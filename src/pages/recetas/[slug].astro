---
import { getCollection, getEntry } from 'astro:content';
import Layout from '../../layouts/Layout.astro'; // Nuestro layout base
import { Image } from 'astro:assets';
import RecipeLayout from '../../layouts/RecipeLayout.astro';

// 1. Astro ejecuta esto para saber qué páginas crear
export async function getStaticPaths() {
  const recetas = await getCollection('recetas');
  return recetas.map(receta => ({
    params: { slug: receta.slug }, // El slug irá en la URL
    props: { receta }, // Pasamos el restaurante completo como prop
  }));
}

const { receta } = Astro.props;
const { data } = receta;
const { Content } = await receta.render(); // Obtenemos el contenido HTML del Markdown
---

<RecipeLayout frontmatter={data}>
  <Content />
  <Fragment slot="after-footer-scripts">

    <script>

      import '../scripts/scroll-animations.js';

    </script>

  </Fragment>
</ResraurantLayout>